(this["webpackJsonpsf-blog"]=this["webpackJsonpsf-blog"]||[]).push([[0],{171:function(t,e,n){},172:function(t,e,n){},306:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(14),s=n.n(c),o=(n(171),n(172),n(26)),i=n(16),u=n(7),l=n.n(u),j=n(15),d=n(21),b=n(57),p=n(60),h=n.n(p),x="https://restedblog.herokuapp.com/rameshg/api",f={getAllPost:function(){var t=Object(j.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get(x).then((function(t){return console.log(t.data),t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getPostDetail:function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,h.a.get("".concat(x,"/").concat(e)).then((function(t){return console.log(t.data),t.data}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deletePost:function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.abrupt("return",h.a.delete("".concat(x,"/").concat(e)).then((function(t){if(200===t.status)return e})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),createPost:function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.a.post("".concat(x),{title:e.title,text:e.text}).then((function(t){if(201===t.status){var n=t.data.id;return Object(b.a)(Object(b.a)({},e),{},{id:n})}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),editPost:function(){var t=Object(j.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,console.log(e),t.abrupt("return",h.a.post("".concat(x,"/").concat(n),{title:e.title,text:e.text}).then((function(t){if(200===t.status)return Object(b.a)({},e)})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=n(79),O=n.n(m),v=n(80),g=n.n(v),w=n(342),y=n(344),N=n(47),k=n.n(N),P=n(45),C=n.n(P),T=n(340),I=Object(T.a)((function(t){return{button:{margin:t.spacing(1)},margin:{margin:t.spacing(1)},withoutLabel:{marginTop:t.spacing(3)}}})),D=n(3),B=function(t){var e=t.data,n=t.onDelete,r=e.id,a=e.title,c=e.text,s=e.timestamp,i=I();return Object(D.jsxs)("div",{children:[Object(D.jsxs)("p",{className:"post_title",cols:"10",children:[Object(D.jsx)("b",{children:Object(D.jsx)("span",{className:"post-preview",children:a.length>25?"".concat(a.substr(0,150),"..."):a})}),"\xa0\xa0\xa0",Object(D.jsx)("span",{className:"post_datestamp text-right",children:Object(D.jsxs)("b",{children:[" ",g()(s).format("MMM DD, YYYY")]})})]}),Object(D.jsx)(w.a,{light:!0}),Object(D.jsx)("p",{className:"post_body",children:Object(D.jsx)("span",{className:"post-preview",children:c.length>300?"".concat(c.substr(0,300),"..."):c})}),Object(D.jsx)(w.a,{light:!0}),Object(D.jsx)(y.a,{variant:"contained",color:"primary",className:i.button,startIcon:Object(D.jsx)(C.a,{}),component:o.b,to:"/posts/".concat(r),children:"Edit"}),Object(D.jsx)(y.a,{variant:"contained",color:"secondary",className:i.button,startIcon:Object(D.jsx)(k.a,{}),onClick:function(){n&&n(r)},children:"Delete"})]})},F=n(345),S=n(346),E=n(347),M=function(t){var e=t.data,n=(t.onCreate,e.id),r=e.title,c=e.timestamp,s=r.length>15?"".concat(r.substr(0,15),"..."):r,i=g()(c).fromNow();return Object(D.jsxs)(F.a,{children:[Object(D.jsx)(S.a,{alignItems:"flex-start",component:o.b,to:"/posts/".concat(n),children:Object(D.jsx)(E.a,{primary:s,secondary:Object(D.jsx)(a.a.Fragment,{children:i})})}),Object(D.jsx)(w.a,{})]})},W=n(348),Y=n(146),A=n.n(Y),L=(n(39),n(353)),_=n(355),J=n(350),V=n(349),G=(n(141),n(140),n(354)),K=[{items:[{path:"/",name:"Posts",component:function(t){var e=I(),n=t.history,r=a.a.useState([]),c=Object(d.a)(r,2),s=c[0],o=c[1];a.a.useEffect((function(){i()}),[]);var i=function(){var t=Object(j.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getAllPost().catch((function(t){return console.log(t)}));case 2:(e=t.sent)&&o(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){n.push("/posts/0")},b=function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O.a.fire({title:"Confirm Delete this blog entry?",text:"This action can not be canceled. Are you sure you would like to delete this entry?",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(){var t=Object(j.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.value){t.next=5;break}return t.next=3,f.deletePost(e);case 3:i(),O.a.fire("Press OK to back","The post has been deleted","success");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return s?Object(D.jsxs)(W.a,{container:!0,spacing:5,children:[Object(D.jsxs)(W.a,{item:!0,xs:3,children:[Object(D.jsx)(y.a,{variant:"contained",color:"primary",className:e.button,startIcon:Object(D.jsx)(A.a,{}),onClick:function(){return n.replace("/post")},children:" Create New Post "}),s.map((function(t,e){return Object(D.jsx)(M,{data:t,onCreate:u},e)}))]}),Object(D.jsx)(W.a,{item:!0,xs:9,children:s.map((function(t,e){return Object(D.jsx)(B,{data:t,onDelete:b},e)}))})]}):Object(D.jsx)("div",{children:"No posts yet."})}},{path:"/posts/:postId",name:"Edit Post",component:function(t){var e=a.a.useState([]),n=Object(d.a)(e,2),r=n[0],c=n[1],s=t.history,o=I(),u=Object(i.f)().postId;a.a.useEffect((function(){b()}),[u]);var b=function(){var t=Object(j.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getPostDetail(u);case 2:e=t.sent,console.log(e),e&&c(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();r.id,r.title,r.text;return Object(D.jsxs)(V.a,{maxWidth:"sm",children:[Object(D.jsx)("h1",{children:"Edit Post"}),Object(D.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e={id:u,title:t.target.title.value,text:t.target.text.value};console.log(e.title),f.editPost(e).catch((function(t){return console.log(t)})).then(setTimeout((function(){return s.replace("/")}),700))},children:[Object(D.jsx)(_.a,{htmlFor:"title",children:"Title"}),Object(D.jsx)(J.a,{fullWidth:!0,className:o.margin,variant:"outlined",children:Object(D.jsx)(L.a,{id:"title",variant:"outlined",multiline:!0,rowsMax:"1",defaultValue:r.title})}),Object(D.jsx)("br",{}),Object(D.jsx)(_.a,{htmlFor:"text",children:"Text"}),Object(D.jsx)(J.a,{fullWidth:!0,className:o.margin,variant:"outlined",children:Object(D.jsx)(L.a,{id:"text",multiline:!0,rowsMax:"14",rows:4,variant:"outlined",defaultValue:r.text})}),Object(D.jsx)("br",{}),Object(D.jsx)(w.a,{light:!0}),Object(D.jsx)(y.a,{variant:"contained",color:"primary",className:o.button,startIcon:Object(D.jsx)(C.a,{}),type:"submit",children:" Save "}),Object(D.jsx)(y.a,{variant:"contained",color:"secondary",className:o.button,startIcon:Object(D.jsx)(k.a,{}),onClick:function(){return s.replace("/")},children:" Cancel "})]})]})}},{path:"/post",name:"Create Post",component:function(t){var e=t.history,n=I();return Object(D.jsxs)(V.a,{maxWidth:"sm",children:[Object(D.jsx)("h1",{children:"Create New Post"}),Object(D.jsx)("div",{children:Object(D.jsx)(G.a,{component:"div",children:Object(D.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={title:t.target.title.value,text:t.target.text.value};f.createPost(n).catch((function(t){return console.log(t)})).then(setTimeout((function(){return e.replace("/")}),700))},children:[Object(D.jsx)(_.a,{htmlFor:"title",children:"Title"}),Object(D.jsxs)(J.a,{fullWidth:!0,className:n.margin,variant:"outlined",children:[Object(D.jsx)(L.a,{id:"title",variant:"outlined"}),"  "]}),Object(D.jsx)("br",{}),Object(D.jsx)(_.a,{htmlFor:"text",children:"Text"}),Object(D.jsxs)(J.a,{fullWidth:!0,className:n.margin,variant:"outlined",children:[Object(D.jsx)(L.a,{id:"text",variant:"outlined",multiline:!0,rows:4}),"  "]}),Object(D.jsx)("br",{}),Object(D.jsx)(y.a,{variant:"contained",color:"primary",className:n.button,startIcon:Object(D.jsx)(C.a,{}),type:"submit",children:" Save "}),Object(D.jsx)(y.a,{variant:"contained",color:"secondary",className:n.button,startIcon:Object(D.jsx)(k.a,{}),onClick:function(){return e.replace("/")},children:" Cancel "})]})})})]})}}]}],R=n(351),q=n(352),z=n(85),H=Object(T.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)}}})),Q=function(){var t=H();return Object(D.jsx)("div",{className:t.root,children:Object(D.jsx)(R.a,{position:"static",children:Object(D.jsx)(q.a,{variant:"dense",children:Object(D.jsx)(z.a,{variant:"h6",color:"inherit",children:"Blog"})})})})},U=function(t){var e=t.children;return Object(D.jsxs)("div",{children:[Object(D.jsx)(Q,{}),Object(D.jsx)(G.a,{component:"div",children:e})]})},X=function(t,e,n,r){return Object(D.jsx)(i.a,{path:n,exact:!0,render:function(n){return Object(D.jsx)(t,{children:Object(D.jsx)(e,Object(b.a)({},n))})}},r)},Z=function(t,e){return function(t,e){return e&&0!=e.length?e.map((function(e,n){var r=e.items,a=e.path,c=e.component;return r?r.map((function(e,n){var r=e.path,a=e.component;return X(t,a,r,n)})):X(t,c,a,n)})):null}(t,e)},$=function(t){return Object(D.jsx)(o.a,{children:Object(D.jsx)(i.c,{children:Z(U,K)})})};var tt=function(){return Object(D.jsx)($,{})},et=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,358)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))};s.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(tt,{})}),document.getElementById("root")),et()}},[[306,1,2]]]);
//# sourceMappingURL=main.2d7a85c6.chunk.js.map