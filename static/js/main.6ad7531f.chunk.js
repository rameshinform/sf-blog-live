(this["webpackJsonpsf-blog"]=this["webpackJsonpsf-blog"]||[]).push([[0],{109:function(t,e,n){},110:function(t,e,n){},148:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(10),s=n.n(c),o=(n(109),n(110),n(30)),i=n(11),u=n(12),l=n.n(u),j=n(22),d=n(60),b=n(46),p=n(47),h=n.n(p),f="https://restedblog.herokuapp.com/rameshg/api",x={getAllPost:function(){var t=Object(j.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get(f).then((function(t){return console.log(t.data),t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getPostDetail:function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,h.a.get("".concat(f,"/").concat(e)).then((function(t){return console.log(t.data),t.data}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deletePost:function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.abrupt("return",h.a.delete("".concat(f,"/").concat(e)).then((function(t){if(200===t.status)return e})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),createPost:function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.a.post("".concat(f),{title:e.title,text:e.text}).then((function(t){if(201===t.status){var n=t.data.id;return Object(b.a)(Object(b.a)({},e),{},{id:n})}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),editPost:function(){var t=Object(j.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,console.log(e),t.abrupt("return",h.a.post("".concat(f,"/").concat(n),{title:e.title,text:e.text}).then((function(t){if(200===t.status)return Object(b.a)({},e)})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=n(56),O=n.n(m),v=n(181),g=n(183),w=n(42),y=n.n(w),N=n(41),k=n.n(N),P=n(179),C=Object(P.a)((function(t){return{button:{margin:t.spacing(1)},margin:{margin:t.spacing(1)},withoutLabel:{marginTop:t.spacing(3)}}})),T=n(3),I=function(t){var e=t.data,n=t.onDelete,r=e.id,a=e.title,c=e.text,s=e.timestamp,i=C();return Object(T.jsxs)("div",{children:[Object(T.jsxs)("p",{className:"post_title",cols:"10",children:[Object(T.jsx)("b",{children:Object(T.jsx)("span",{className:"post-preview",children:a.length>25?"".concat(a.substr(0,150),"..."):a})}),"\xa0\xa0\xa0",Object(T.jsx)("span",{className:"post_datestamp text-right",children:Object(T.jsxs)("b",{children:[" ",O()(s).format("MMM DD, YYYY")]})})]}),Object(T.jsx)(v.a,{light:!0}),Object(T.jsx)("p",{className:"post_body",children:Object(T.jsx)("span",{className:"post-preview",children:c.length>300?"".concat(c.substr(0,300),"..."):c})}),Object(T.jsx)(v.a,{light:!0}),Object(T.jsx)(g.a,{variant:"contained",color:"primary",className:i.button,startIcon:Object(T.jsx)(k.a,{}),component:o.b,to:"/posts/".concat(r),children:"Edit"}),Object(T.jsx)(g.a,{variant:"contained",color:"secondary",className:i.button,startIcon:Object(T.jsx)(y.a,{}),onClick:function(){n&&n(r)},children:"Delete"})]})},D=n(184),B=n(185),F=n(186),S=function(t){var e=t.data,n=(t.onCreate,e.id),r=e.title,c=e.timestamp,s=r.length>15?"".concat(r.substr(0,15),"..."):r,i=O()(c).fromNow();return Object(T.jsxs)(D.a,{children:[Object(T.jsx)(B.a,{alignItems:"flex-start",component:o.b,to:"/posts/".concat(n),children:Object(T.jsx)(F.a,{primary:s,secondary:Object(T.jsx)(a.a.Fragment,{children:i})})}),Object(T.jsx)(v.a,{})]})},E=n(71),M=n.n(E),W=n(187),Y=n(88),A=n.n(Y),L=n(192),_=n(194),J=n(189),V=n(188),G=n(193),K=[{items:[{path:"/",name:"Posts",component:function(t){var e=C(),n=t.history,r=a.a.useState([]),c=Object(d.a)(r,2),s=c[0],o=c[1];a.a.useEffect((function(){i()}),[]);var i=function(){var t=Object(j.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getAllPost().catch((function(t){return console.log(t)}));case 2:(e=t.sent)&&o(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){n.push("/posts/0")},b=function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:M.a.fire({title:"Confirm Delete this blog entry?",text:"This action can not be canceled. Are you sure you would like to delete this entry?",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(){var t=Object(j.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.value){t.next=5;break}return t.next=3,x.deletePost(e);case 3:i(),M.a.fire("Press OK to back","The post has been deleted","success");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return s?Object(T.jsxs)(W.a,{container:!0,spacing:5,children:[Object(T.jsxs)(W.a,{item:!0,xs:3,children:[Object(T.jsx)(g.a,{variant:"contained",color:"primary",className:e.button,startIcon:Object(T.jsx)(A.a,{}),onClick:function(){return n.replace("/post")},children:" Create New Post "}),s.map((function(t,e){return Object(T.jsx)(S,{data:t,onCreate:u},e)}))]}),Object(T.jsx)(W.a,{item:!0,xs:9,children:s.map((function(t,e){return Object(T.jsx)(I,{data:t,onDelete:b},e)}))})]}):Object(T.jsx)("div",{children:"No posts yet."})}},{path:"/posts/:postId",name:"Edit Post",component:function(t){var e=a.a.useState([]),n=Object(d.a)(e,2),r=n[0],c=n[1],s=t.history,o=C(),u=Object(i.f)().postId;a.a.useEffect((function(){(function(){var t=Object(j.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getPostDetail(u);case 2:e=t.sent,console.log(e),e&&c(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[u]);return Object(T.jsxs)(V.a,{maxWidth:"sm",children:[Object(T.jsx)("h1",{children:"Edit Post"}),Object(T.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e={id:u,title:t.target.title.value,text:t.target.text.value};console.log(e.title),x.editPost(e).catch((function(t){return console.log(t)})).then(setTimeout((function(){return s.replace("/")}),700))},children:[Object(T.jsx)(_.a,{htmlFor:"title",children:"Title"}),Object(T.jsx)(J.a,{fullWidth:!0,className:o.margin,variant:"outlined",children:Object(T.jsx)(L.a,{id:"title",variant:"outlined",multiline:!0,rowsMax:"1",defaultValue:r.title})}),Object(T.jsx)("br",{}),Object(T.jsx)(_.a,{htmlFor:"text",children:"Text"}),Object(T.jsx)(J.a,{fullWidth:!0,className:o.margin,variant:"outlined",children:Object(T.jsx)(L.a,{id:"text",multiline:!0,rowsMax:"14",rows:4,variant:"outlined",defaultValue:r.text})}),Object(T.jsx)("br",{}),Object(T.jsx)(v.a,{light:!0}),Object(T.jsx)(g.a,{variant:"contained",color:"primary",className:o.button,startIcon:Object(T.jsx)(k.a,{}),type:"submit",children:" Save "}),Object(T.jsx)(g.a,{variant:"contained",color:"secondary",className:o.button,startIcon:Object(T.jsx)(y.a,{}),onClick:function(){return s.replace("/")},children:" Cancel "})]})]})}},{path:"/post",name:"Create Post",component:function(t){var e=t.history,n=C();return Object(T.jsxs)(V.a,{maxWidth:"sm",children:[Object(T.jsx)("h1",{children:"Create New Post"}),Object(T.jsx)("div",{children:Object(T.jsx)(G.a,{component:"div",children:Object(T.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={title:t.target.title.value,text:t.target.text.value};x.createPost(n).catch((function(t){return console.log(t)})).then(setTimeout((function(){return e.replace("/")}),700))},children:[Object(T.jsx)(_.a,{htmlFor:"title",children:"Title"}),Object(T.jsxs)(J.a,{fullWidth:!0,className:n.margin,variant:"outlined",children:[Object(T.jsx)(L.a,{id:"title",variant:"outlined"}),"  "]}),Object(T.jsx)("br",{}),Object(T.jsx)(_.a,{htmlFor:"text",children:"Text"}),Object(T.jsxs)(J.a,{fullWidth:!0,className:n.margin,variant:"outlined",children:[Object(T.jsx)(L.a,{id:"text",variant:"outlined",multiline:!0,rows:4}),"  "]}),Object(T.jsx)("br",{}),Object(T.jsx)(g.a,{variant:"contained",color:"primary",className:n.button,startIcon:Object(T.jsx)(k.a,{}),type:"submit",children:" Save "}),Object(T.jsx)(g.a,{variant:"contained",color:"secondary",className:n.button,startIcon:Object(T.jsx)(y.a,{}),onClick:function(){return e.replace("/")},children:" Cancel "})]})})})]})}}]}],R=n(190),q=n(191),z=n(61),H=Object(P.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)}}})),Q=function(){var t=H();return Object(T.jsx)("div",{className:t.root,children:Object(T.jsx)(R.a,{position:"static",children:Object(T.jsx)(q.a,{variant:"dense",children:Object(T.jsx)(z.a,{variant:"h6",color:"inherit",children:"Blog"})})})})},U=function(t){var e=t.children;return Object(T.jsxs)("div",{children:[Object(T.jsx)(Q,{}),Object(T.jsx)(G.a,{component:"div",children:e})]})},X=function(t,e,n,r){return Object(T.jsx)(i.a,{path:n,exact:!0,render:function(n){return Object(T.jsx)(t,{children:Object(T.jsx)(e,Object(b.a)({},n))})}},r)},Z=function(t,e){return function(t,e){return e&&0!==e.length?e.map((function(e,n){var r=e.items,a=e.path,c=e.component;return r?r.map((function(e,n){var r=e.path,a=e.component;return X(t,a,r,n)})):X(t,c,a,n)})):null}(t,e)},$=function(t){return Object(T.jsx)(o.a,{children:Object(T.jsx)(i.c,{children:Z(U,K)})})};var tt=function(){return Object(T.jsx)($,{})},et=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,197)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))};s.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(tt,{})}),document.getElementById("root")),et()}},[[148,1,2]]]);
//# sourceMappingURL=main.6ad7531f.chunk.js.map